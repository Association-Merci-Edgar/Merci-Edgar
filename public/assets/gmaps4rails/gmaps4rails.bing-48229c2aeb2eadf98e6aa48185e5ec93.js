!function(){var t={}.hasOwnProperty,e=function(e,o){function r(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};this.Gmaps4RailsBing=function(t){function o(){o.__super__.constructor.apply(this,arguments),this.map_options={type:"road"},this.markers_conf={infobox:"description"},this.mergeWithDefault("map_options"),this.mergeWithDefault("markers_conf")}return e(o,t),o.prototype.getMapType=function(){switch(this.map_options.type){case"road":return Microsoft.Maps.MapTypeId.road;case"aerial":return Microsoft.Maps.MapTypeId.aerial;case"auto":return Microsoft.Maps.MapTypeId.auto;case"birdseye":return Microsoft.Maps.MapTypeId.birdseye;case"collinsBart":return Microsoft.Maps.MapTypeId.collinsBart;case"mercator":return Microsoft.Maps.MapTypeId.mercator;case"ordnanceSurvey":return Microsoft.Maps.MapTypeId.ordnanceSurvey;default:return Microsoft.Maps.MapTypeId.auto}},o.prototype.createPoint=function(t,e){return new Microsoft.Maps.Point(t,e)},o.prototype.createLatLng=function(t,e){return new Microsoft.Maps.Location(t,e)},o.prototype.createLatLngBounds=function(){},o.prototype.createMap=function(){return new Microsoft.Maps.Map(document.getElementById(this.map_options.id),{credentials:this.map_options.provider_key,mapTypeId:this.getMapType(),center:this.createLatLng(this.map_options.center_latitude,this.map_options.center_longitude),zoom:this.map_options.zoom})},o.prototype.createSize=function(t,e){return new google.maps.Size(t,e)},o.prototype.createMarker=function(t){var e,o;return o=this.createLatLng(t.Lat,t.Lng),e=""===t.marker_picture?new Microsoft.Maps.Pushpin(this.createLatLng(t.Lat,t.Lng),{draggable:t.marker_draggable,anchor:this.createImageAnchorPosition(t.Lat,t.Lng),text:t.marker_title}):new Microsoft.Maps.Pushpin(this.createLatLng(t.Lat,t.Lng),{draggable:t.marker_draggable,anchor:this.createImageAnchorPosition(t.Lat,t.Lng),icon:t.marker_picture,height:t.marker_height,text:t.marker_title,width:t.marker_width}),this.addToMap(e),e},o.prototype.clearMarkers=function(){var t,e,o,r,n;for(r=this.markers,n=[],e=0,o=r.length;o>e;e++)t=r[e],n.push(this.clearMarker(t));return n},o.prototype.clearMarker=function(t){return this.removeFromMap(t.serviceObject)},o.prototype.showMarkers=function(){var t,e,o,r,n;for(r=this.markers,n=[],e=0,o=r.length;o>e;e++)t=r[e],n.push(this.showMarker(t));return n},o.prototype.showMarker=function(t){return t.serviceObject.setOptions({visible:!0})},o.prototype.hideMarkers=function(){var t,e,o,r,n;for(r=this.markers,n=[],e=0,o=r.length;o>e;e++)t=r[e],n.push(this.hideMarker(t));return n},o.prototype.hideMarker=function(t){return t.serviceObject.setOptions({visible:!1})},o.prototype.extendBoundsWithMarkers=function(){var t,e,o,r,n;for(t=[],n=this.markers,o=0,r=n.length;r>o;o++)e=n[o],t.push(e.serviceObject.getLocation());return this.boundsObject=Microsoft.Maps.LocationRect.fromLocations(t)},o.prototype.createClusterer=function(){},o.prototype.clearClusterer=function(){},o.prototype.clusterize=function(){},o.prototype.createInfoWindow=function(t){var e;return null!=t.description?(t.info_window="description"===this.markers_conf.infobox?new Microsoft.Maps.Infobox(t.serviceObject.getLocation(),{description:t.description,visible:!1,showCloseButton:!0}):new Microsoft.Maps.Infobox(t.serviceObject.getLocation(),{htmlContent:t.description,visible:!1}),e=this,Microsoft.Maps.Events.addHandler(t.serviceObject,"click",this.openInfoWindow(e,t.info_window)),this.addToMap(t.info_window)):void 0},o.prototype.openInfoWindow=function(t,e){return function(){return t.visibleInfoWindow&&t.visibleInfoWindow.setOptions({visible:!1}),e.setOptions({visible:!0}),t.visibleInfoWindow=e}},o.prototype.fitBounds=function(){return this.serviceObject.setView({bounds:this.boundsObject})},o.prototype.addToMap=function(t){return this.serviceObject.entities.push(t)},o.prototype.removeFromMap=function(t){return this.serviceObject.entities.remove(t)},o.prototype.centerMapOnUser=function(){return this.serviceObject.setView({center:this.userLocation})},o.prototype.updateBoundsWithPolylines=function(){},o.prototype.updateBoundsWithPolygons=function(){},o.prototype.updateBoundsWithCircles=function(){},o.prototype.extendMapBounds=function(){},o.prototype.adaptMapToBounds=function(){return this.fitBounds()},o}(Gmaps4Rails)}.call(this);