function filtergo_sel(t){thevalue=t.f_venue_kind.value,theText=thevalue,thetargetname="venue_kind",""!=thevalue&&(theactor=$(".filters-stage").find("#actor_"+thetargetname),0!=theactor.length&&$("#actor_"+thetargetname).remove(),$(".filters-stage").append("<a class='tag tag-actor' id = actor_"+thetargetname+" href='#'><span class='close'>x</span><span class='thevalue'>"+theText+"</span></a>"),$iniBT.show(),$hid.find("#"+thetargetname+" option[value='"+thevalue+"']").attr("selected","selected")),$(".filters-stage .tag-actor").click(function(){$(this).remove(),$hid.find("#"+thetargetname).get(0).selectedIndex=0,hideTheInit()})}function filtergo_cap(t){min=t.capacity_lt.value,max=t.capacity_gt.value,(""!=min||""!=max)&&(0!=$("#actor_cap").length&&($("#actor_cap").remove(),$hid.find("#capacity_lt").val(""),$hid.find("#capacity_gt").val("")),thevalue="",sep="",""!=min&&(thevalue="min. "+min,$hid.find("#capacity_lt").val(min)),""!=min&&""!=max&&(sep=" / "),""!=max&&(thevalue+=sep+"max. "+max,$hid.find("#capacity_gt").val(max)),$(".filters-stage").append("<a class='tag tag-actor' id = 'actor_cap' href='#'><span class='close'>x</span><span class='thevalue'>"+thevalue+" places</span></a>"),$iniBTNS.show()),$("#actor_cap").click(function(){$(this).remove(),$hid.find("#capacity_lt").val(""),$hid.find("#capacity_gt").val(""),hideTheInit()})}function filtergo(t){thevalue=t.thefield.value,thetargetname=t.thefield.id.substr(2),""!=thevalue&&(theactor=$(".filters-stage").find("#actor_"+thetargetname),0!=theactor.length?(theactor.find(".thevalue").append(", "+thevalue),thevalue=theactor.find(".thevalue").text()):$(".filters-stage").append("<a class='tag tag-actor' id = actor_"+thetargetname+" href='#'><span class='close'>x</span><span class='thevalue'>"+thevalue+"</span></a>"),$iniBTNS.show(),$hid.find("#"+thetargetname).val(thevalue)),$(".filters-stage .tag-actor").click(function(){thetargetname=$(this).attr("id").substr(6),$(this).remove(),$hid.find("#"+thetargetname).val(""),hideTheInit()})}$("#final_submit").click(function(){$(".filters-hiddenform form").submit()}),$hid=$(".filters-hiddenform"),$hid.find("input").val(""),$iniBTNS=$("#filters_btns"),$iniBT=$('.filters-stage [data-role="close"]'),$iniBTNS.hide(),$iniBT.click(function(){$(".filters-stage .tag-actor").remove(),$hid.find("input").val(""),$hid.find("#venue_kind").get(0).selectedIndex=0,$iniBTNS.hide()}),hideTheInit=function(){0==$(".filters-stage .tag-actor").length&&$iniBTNS.hide()};var tmp=$.fn.popover.Constructor.prototype.show;$.fn.popover.Constructor.prototype.show=function(){tmp.call(this),this.options.callback&&this.options.callback()},$(".filters-pool .tag").popover({callback:function(){$(".popover-content input[autofocus]:first").focus(),$(".popover").prev().addClass("active"),$(".popover").find(".btn[type='submit']").click(function(){$(".popover").prev().removeClass("active"),$(".popover").each(function(){$(this.previousSibling).popover("hide")})})},placement:"bottom",animation:!1}),$("html").on("mouseup",function(t){$(t.target).closest(".popover").length||($(".popover").each(function(){$(this.previousSibling).popover("hide")}),$(".filters-pool .tag").removeClass("active"))}),$.each($(".filters-trigger"),function(){$(this).click(function(){$(this).toggleClass("active"),$(".filters-outercontainer").toggleClass("open")})});